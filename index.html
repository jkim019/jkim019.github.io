<!DOCTYPE HTML>
<html>
  <head>
    <title>

    </title>
    <meta charset="utf-8"/>
    <script src="jquery-3.6.1.min.js"></script>

    <script>
      //fetch
      fetch("https://dog.ceo/api/breeds/image/random", {
        "method":"GET",
      })
      .then(response => response.json())
      .then(response=> {
        $('p[id="dog_pic"]').replaceWith('<img src="'+response.message+'">')


      })
      .catch(err => {
        console.log("ERROR: There was an error finding your api");
      })
    </script>

    <script>
      //in class AJAX pattern
      var req = new XMLHttpRequest();
      console.log(req);

      req.open("GET","https://dog.ceo/api/breeds/image/random",true);
      console.log("Attempting GET")

      req.onreadystatechange = function() {
        if (req.readyState == 4 && req.status ==200)
        {
          console.log("Message RECIEVED");
          var result = req.responseText;
          console.log(result)
          result = JSON.parse(result)
          var dog_img = result.message;
          $('p[id="dog_pic"]').replaceWith('<img src="'+dog_img+'">')
        }
      }

      req.send();

    </script>

  </head>

  <body>
    <p id="dog_pic">Loading...</p>

    <p id="description">
      The API I selected is called Dog CEO. It pulls a link of a random dog, and it is commmunity driven, so it is a free source of dogs from users who choose to upload their own images.
      This was found at https://mixedanalytics.com/blog/list-actually-free-open-no-auth-needed-apis/

      For the first script, I used the fetch command used for a method of recieving api requests, and I used .then in order to get the information read in by the code when they showed up, and I could use response to hold the json, then parse it
      For the second script, I used the AJAX protocol we learned from class in order to make use of the readyState and status functions to make sure we actually got the data. Likewise to the other function, we simply call the json we have recieved, parse it, and then use the image

      This public api would be useful for making a program that generates a random dog image as a "dog of the day" type of ordeal or something else in order to add daily variety to a website
      Another way this api would be useful is by giving you and the user more information on types of dogs and dog breeds at the random. If you look into the api documentation, you can see that there is a json for dog breeds as well.
       

    </p>
  </body>
</html>
